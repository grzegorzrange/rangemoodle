/**
 * AJAX pagination for the announcements block.
 *
 * @module     block_announcements/paging
 * @copyright  2026 Custom Development
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["core/ajax","core/templates"],function(e,t){return{init:function(n,a){var c=document.querySelector('[data-region="block-announcements"]');c&&c.addEventListener("click",function(a){var o=a.target.closest("[data-page]");if(o){a.preventDefault();var s=parseInt(o.dataset.page,10);!function(n,a,c){n.classList.add("block-announcements-loading"),e.call([{methodname:"block_announcements_get_page",args:{directionid:a,page:c}}])[0].then(function(e){for(var n=e.tiles.map(function(e){return{name:e.name,text:e.text,date:e.date,attachcount:e.attachcount,hasattachments:e.hasattachments,viewurl:e.viewurl}}),a=[],c=0;c<e.totalpages;c++)a.push({pagenum:c+1,page:c,active:c===e.currentpage});var o={hastiles:n.length>0,tiles:n,haspagination:e.totalpages>1,pages:a};return t.renderForPromise("block_announcements/content",o)}).then(function(e){n.innerHTML=e.html,t.runTemplateJS(e.js),n.classList.remove("block-announcements-loading")}).catch(function(){n.classList.remove("block-announcements-loading")})}(c,n,s)}})}}});
//# sourceMappingURL=paging.min.js.map